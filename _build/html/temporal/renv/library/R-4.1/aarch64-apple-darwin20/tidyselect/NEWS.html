
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tidyselect 1.1.2 &#8212; Temporal and sequential analysis - LASI 2022</title>
    
  <link href="../../../../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../../_static/solar_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Temporal and sequential analysis - LASI 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture1.html">
   Lecture 1: Clustering of sequential data in education
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture2.html">
   Lecture 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture3.html">
   Lecture 3
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Labs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab1.html">
   Lab 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab2.html">
   Lab 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab3.html">
   Lab 3
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Quan Nguyen<br>Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/temporal/renv/library/R-4.1/aarch64-apple-darwin20/tidyselect/NEWS.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/quan3010/temporal_analysis"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/quan3010/temporal_analysis/issues/new?title=Issue%20on%20page%20%2Ftemporal/renv/library/R-4.1/aarch64-apple-darwin20/tidyselect/NEWS.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   tidyselect 1.1.2
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-1-1-1">
   tidyselect 1.1.1
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-1-1-0">
   tidyselect 1.1.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-1-0-0">
   tidyselect 1.0.0
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#documentation">
     Documentation
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#breaking-changes">
     Breaking changes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntax">
     Syntax
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#user-facing-improvements">
     User-facing improvements
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api">
     API
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#other-features-and-fixes">
     Other features and fixes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-2-5">
   tidyselect 0.2.5
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-2-4">
   tidyselect 0.2.4
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-2-3">
   tidyselect 0.2.3
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-2-2">
   tidyselect 0.2.2
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-2-1">
   tidyselect 0.2.1
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-2-0">
   tidyselect 0.2.0
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#evaluation-rules">
     Evaluation rules
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#new-features">
     New features
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fixes">
     Fixes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidyselect-0-1-1">
   tidyselect 0.1.1
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api-changes">
     API changes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#establishing-a-variable-context">
     Establishing a variable context
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#new-evaluation-semantics">
     New evaluation semantics
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-1-1-2">
<h1>tidyselect 1.1.2<a class="headerlink" href="#tidyselect-1-1-2" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Fix for CRAN checks.</p></li>
<li><p>Better compatibility with rlang 1.0.0 errors. More to come soon.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-1-1-1">
<h1>tidyselect 1.1.1<a class="headerlink" href="#tidyselect-1-1-1" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Fix for CRAN checks.</p></li>
<li><p>tidyselect has been re-licensed as MIT (#217).</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-1-1-0">
<h1>tidyselect 1.1.0<a class="headerlink" href="#tidyselect-1-1-0" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>Predicate functions must now be wrapped with <code class="docutils literal notranslate"><span class="pre">where()</span></code>.</p>
<p>We made this change to avoid puzzling error messages when a variable
is unexpectedly missing from the data frame and there is a
corresponding function in the environment:</p>
<p>Now tidyselect will correctly complain about a missing variable
rather than trying to invoke a function.</p>
<p>For compatibility we will support predicate functions starting with
<code class="docutils literal notranslate"><span class="pre">is</span></code> for 1 version.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> gains an <code class="docutils literal notranslate"><span class="pre">allow_rename</span></code> argument. If set to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>,
renaming variables with the <code class="docutils literal notranslate"><span class="pre">c(foo</span> <span class="pre">=</span> <span class="pre">bar)</span></code> syntax is an error.
This is useful to implement purely selective behaviour (#178).</p></li>
<li><p>Fixed issue preventing repeated deprecation messages when
<code class="docutils literal notranslate"><span class="pre">tidyselect_verbosity</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;verbose&quot;</span></code> (#184).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any_of()</span></code> now preserves the order of the input variables (#186).</p></li>
<li><p>The return value of <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> is now always named, even when
inputs are constant (#173).</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-1-0-0">
<h1>tidyselect 1.0.0<a class="headerlink" href="#tidyselect-1-0-0" title="Permalink to this headline">¶</a></h1>
<p>This is the 1.0.0 release of tidyselect. It features a more solidly
defined and implemented syntax, support for predicate functions, new
boolean operators, and much more.</p>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>New Get started vignette for client packages. Read it with
<code class="docutils literal notranslate"><span class="pre">vignette(&quot;tidyselect&quot;)</span></code> or at
<a class="reference external" href="https://tidyselect.r-lib.org/articles/tidyselect.html">https://tidyselect.r-lib.org/articles/tidyselect.html</a>.</p></li>
<li><p>The definition of the tidyselect language has been consolidated. A
technical description is now available:
<a class="reference external" href="https://tidyselect.r-lib.org/articles/syntax.html">https://tidyselect.r-lib.org/articles/syntax.html</a>.</p></li>
</ul>
</div>
<div class="section" id="breaking-changes">
<h2>Breaking changes<a class="headerlink" href="#breaking-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Selecting non-column variables with bare names now triggers an
informative message suggesting to use <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> instead. Referring
to contextual objects with a bare name is brittle because it might
be masked by a data frame column. Using <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> is safe (#76).</p></li>
</ul>
<p>tidyselect now uses vctrs for validating inputs. These changes may
reveal programming errors that were previously silent. They may also
cause failures if your unit tests make faulty assumptions about the
content of error messages created in tidyselect:</p>
<ul class="simple">
<li><p>Out-of-bounds errors are thrown when a name doesn’t exist or a
location is too large for the input.</p></li>
<li><p>Logical vectors now fail properly.</p></li>
<li><p>Selected variables now must be unique. It was previously possible to
return duplicate selections in some circumstances.</p></li>
<li><p>The input names can no longer contain <code class="docutils literal notranslate"><span class="pre">NA</span></code> values.</p></li>
</ul>
<p>Note that we recommend <code class="docutils literal notranslate"><span class="pre">testthat::verify_output()</span></code> for monitoring
error messages thrown from packages that you don’t control. Unlike
<code class="docutils literal notranslate"><span class="pre">expect_error()</span></code>, <code class="docutils literal notranslate"><span class="pre">verify_output()</span></code> does not cause CMD check failures
when error messages have changed. See
<a class="reference external" href="https://www.tidyverse.org/blog/2019/11/testthat-2-3-0/">https://www.tidyverse.org/blog/2019/11/testthat-2-3-0/</a> for more
information.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The boolean operators can now be used to create selections (#106).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">!</span></code> negates a selection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">|</span></code> takes the union of two selections.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code> takes the intersection of two selections.</p></li>
</ul>
<p>These patterns can currently be achieved using <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">c()</span></code> and
<code class="docutils literal notranslate"><span class="pre">intersect()</span></code> respectively. The boolean operators should be more
intuitive to use.</p>
<p>Many thanks to Irene Steves (&#64;isteves) for suggesting this UI.</p>
</li>
<li><p>You can now use predicate functions in selection contexts:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">is.factor</span><span class="p">)</span>
<span class="n">iris</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">is.factor</span> <span class="o">|</span> <span class="n">is.numeric</span><span class="p">)</span>
</pre></div>
</div>
<p>This feature is not available in functions that use the legacy
interface of tidyselect. These need to be updated to use
the new <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> function instead of <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code>.</p>
</li>
<li><p>Unary <code class="docutils literal notranslate"><span class="pre">-</span></code> inside nested <code class="docutils literal notranslate"><span class="pre">c()</span></code> is now consistently syntax for set
difference (#130).</p></li>
<li><p>Improved support for named elements. It is now possible to assign
the same name to multiple elements, if the input data structure
doesn’t require unique names (i.e. anything but a data frame).</p></li>
<li><p>The selection engine has been rewritten to support a clearer
separation between data-expressions (calls to <code class="docutils literal notranslate"><span class="pre">:</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, and <code class="docutils literal notranslate"><span class="pre">c</span></code>) and
env-expressions (anything else). This means you can now safely use
expressions of the type:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="n">data</span> <span class="o">%&gt;%</span> <span class="nf">pivot_longer</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<p>Even if the data frame <code class="docutils literal notranslate"><span class="pre">data</span></code> contains a column also named <code class="docutils literal notranslate"><span class="pre">data</span></code>,
the subexpression <code class="docutils literal notranslate"><span class="pre">ncol(data)</span></code> is still correctly evaluated.
The <code class="docutils literal notranslate"><span class="pre">data:ncol(data)</span></code> expression is equivalent to <code class="docutils literal notranslate"><span class="pre">2:3</span></code> because
<code class="docutils literal notranslate"><span class="pre">data</span></code> is looked up in the relevant context without ambiguity:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">&lt;-</span> <span class="nf">tibble</span><span class="p">(</span><span class="n">foo</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">bar</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
<span class="n">data</span> <span class="o">%&gt;%</span> <span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">data</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="c1">#&gt; # A tibble: 1 x 2</span>
<span class="c1">#&gt;    data   bar</span>
<span class="c1">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="c1">#&gt; 1     2     3</span>
</pre></div>
</div>
<p>While this example above is a bit contrived, there are many realistic
cases where these changes make it easier to write safe code:</p>
</li>
</ul>
</div>
<div class="section" id="user-facing-improvements">
<h2>User-facing improvements<a class="headerlink" href="#user-facing-improvements" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The new selection helpers <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> and <code class="docutils literal notranslate"><span class="pre">any_of()</span></code> are strict
variants of <code class="docutils literal notranslate"><span class="pre">one_of()</span></code>. The former always fails if some variables
are unknown, while the latter does not. <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> is safer to use
when you expect all selected variables to exist. <code class="docutils literal notranslate"><span class="pre">any_of()</span></code> is
useful in other cases, for instance to ensure variables are selected
out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">vars</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;Species&quot;</span><span class="p">,</span> <span class="s2">&quot;Genus&quot;</span><span class="p">)</span>
<span class="n">iris</span> <span class="o">%&gt;%</span> <span class="n">dplyr</span><span class="p">::</span><span class="n">select</span><span class="p">(</span><span class="o">-</span><span class="n">any_of</span><span class="p">(</span><span class="nb">vars</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> and <code class="docutils literal notranslate"><span class="pre">any_of()</span></code> are a bit more conservative in
their function signature than <code class="docutils literal notranslate"><span class="pre">one_of()</span></code>: they do not accept dots.
The equivalent of <code class="docutils literal notranslate"><span class="pre">one_of(&quot;a&quot;,</span> <span class="pre">&quot;b&quot;)</span></code> is <code class="docutils literal notranslate"><span class="pre">all_of(c(&quot;a&quot;,</span> <span class="pre">&quot;b&quot;))</span></code>.</p>
</li>
<li><p>Selection helpers like <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> and <code class="docutils literal notranslate"><span class="pre">starts_with()</span></code> are now
available in all selection contexts, even when they haven’t been
attached to the search path. The most visible consequence of this
change is that it is now easier to use selection functions without
attaching the host package:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Before</span>
<span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="n">dplyr</span><span class="o">::</span><span class="nf">starts_with</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">))</span>

<span class="c1"># After</span>
<span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="nf">starts_with</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>It is still recommended to export the helpers from your package so
that users can easily look up the documentation with <code class="docutils literal notranslate"><span class="pre">?</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">starts_with()</span></code>, <code class="docutils literal notranslate"><span class="pre">ends_with()</span></code>, <code class="docutils literal notranslate"><span class="pre">contains()</span></code>, and <code class="docutils literal notranslate"><span class="pre">matches()</span></code> now
accept vector inputs (#50). For instance these are now equivalent
ways of selecting all variables that start with either <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;b&quot;</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matches()</span></code> has new argument <code class="docutils literal notranslate"><span class="pre">perl</span></code> to allow for Perl-like regular
expressions (&#64;fmichonneau, #71)</p></li>
<li><p>Better support for selecting with S3 vectors. For instance, factors
are treated as characters.</p></li>
</ul>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p>New <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> functions for client
packages. These replace <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code>, which are
now deprecated. These functions:</p>
<ul class="simple">
<li><p>Take the full data rather than just names. This makes it possible to
use function predicates in selection context.</p></li>
<li><p>Return a numeric vector of locations rather than a vector of
names. This makes it possible to use tidyselect with inputs that
support duplicate names, like regular vectors.</p></li>
</ul>
</div>
<div class="section" id="other-features-and-fixes">
<h2>Other features and fixes<a class="headerlink" href="#other-features-and-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">.strict</span></code> argument of <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> now works more robustly
and consistently.</p></li>
<li><p>Using arithmetic operators in selection context now fails more
informatively (#84).</p></li>
<li><p>It is now possible to select columns in data frames containing
duplicate variables (#94). However, the duplicates can’t be part of
the final selection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> no longer ignore the names of unquoted character
vectors of length 1 (#79).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> now fails when a variable is renamed to an existing
name (#70).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> has better support for existing duplicates (but
creating new duplicates is an error).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code>, <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code> now detect
missing values uniformly (#72).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code> now includes the faulty expression in error messages.</p></li>
<li><p>The performance issues of <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> with many arguments have
been fixed. This make <code class="docutils literal notranslate"><span class="pre">dplyr::rename_all()</span></code> with many columns much
faster (&#64;zkamvar, #92).</p></li>
<li><p>tidyselect is now much faster with many columns, thanks to a
performance fix in <code class="docutils literal notranslate"><span class="pre">rlang::env_bind()</span></code> as well as internal fixes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> ignores vectors with only zeros (#82).</p></li>
</ul>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-2-5">
<h1>tidyselect 0.2.5<a class="headerlink" href="#tidyselect-0-2-5" title="Permalink to this headline">¶</a></h1>
<p>This is a maintenance release for compatibility with rlang 0.3.0.</p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-2-4">
<h1>tidyselect 0.2.4<a class="headerlink" href="#tidyselect-0-2-4" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Fixed a warning that occurred when a vector of column positions was
supplied to <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> or functions depending on it such as
<code class="docutils literal notranslate"><span class="pre">tidyr::gather()</span></code> (#43 and tidyverse/tidyr#374).</p></li>
<li><p>Fixed compatibility issue with rlang 0.2.0 (#51).</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-2-3">
<h1>tidyselect 0.2.3<a class="headerlink" href="#tidyselect-0-2-3" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Internal fixes in prevision of using <code class="docutils literal notranslate"><span class="pre">tidyselect</span></code> within <code class="docutils literal notranslate"><span class="pre">dplyr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code> now correctly support unquoting
character vectors that have names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> now ignores missing variables.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-2-2">
<h1>tidyselect 0.2.2<a class="headerlink" href="#tidyselect-0-2-2" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr</span></code> is now correctly mentioned as suggested package.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-2-1">
<h1>tidyselect 0.2.1<a class="headerlink" href="#tidyselect-0-2-1" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code> now supports character vectors in addition to strings. This
makes it easy to unquote column names to exclude from the set:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_col()</span></code> now issues an error when the variable vector is empty.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_col()</span></code> now returns column positions rather than column names
for consistency with other helpers. This also makes it compatible
with functions like <code class="docutils literal notranslate"><span class="pre">seq()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c()</span></code> now supports character vectors the same way as <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">seq()</span></code>.
(#37 &#64;gergness)</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-2-0">
<h1>tidyselect 0.2.0<a class="headerlink" href="#tidyselect-0-2-0" title="Permalink to this headline">¶</a></h1>
<p>The main point of this release is to revert a troublesome behaviour
introduced in tidyselect 0.1.0. It also includes a few features.</p>
<div class="section" id="evaluation-rules">
<h2>Evaluation rules<a class="headerlink" href="#evaluation-rules" title="Permalink to this headline">¶</a></h2>
<p>The special evaluation semantics for selection have been changed
back to the old behaviour because the new rules were causing too
much trouble and confusion. From now on data expressions (symbols
and calls to <code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">c()</span></code>) can refer to both registered variables
and to objects from the context.</p>
<p>However the semantics for context expressions (any calls other than
to <code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">c()</span></code>) remain the same. Those expressions are evaluated
in the context only and cannot refer to registered variables.</p>
<p>If you’re writing functions and refer to contextual objects, it is
still a good idea to avoid data expressions. Since registered
variables are change as a function of user input and you never know
if your local objects might be shadowed by a variable. Consider:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">&lt;-</span> <span class="mi">2</span>
<span class="n">vars_select</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>Should that select up to the second element of <code class="docutils literal notranslate"><span class="pre">letters</span></code> or up to
the 14th? Since the variables have precedence in a data expression,
this will select the 14 first letters. This can be made more robust
by turning the data expression into a context expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vars_select</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>You can also use quasiquotation since unquoted arguments are
guaranteed to be evaluated without any user data in scope. While
equivalent because of the special rules for context expressions,
this may be clearer to the reader accustomed to tidy eval:</p>
<p>Finally, you may want to be more explicit in the opposite direction.
If you expect a variable to be found in the data but not in the
context, you can use the <code class="docutils literal notranslate"><span class="pre">.data</span></code> pronoun:</p>
</div>
<div class="section" id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The new select helper <code class="docutils literal notranslate"><span class="pre">last_col()</span></code> is helpful to select over a
custom range: <code class="docutils literal notranslate"><span class="pre">vars_select(vars,</span> <span class="pre">3:last_col())</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> now handle strings as well. This makes it easy to
unquote a column name: <code class="docutils literal notranslate"><span class="pre">(!!name)</span> <span class="pre">:</span> <span class="pre">last_col()</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">!!name</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">.strict</span></code> argument similar to
<code class="docutils literal notranslate"><span class="pre">rename_vars()</span></code>.  If set to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>, errors about unknown variables
are ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> now treats <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as empty inputs. This follows a
trend in the tidyverse tools.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code> now handles variable positions (integers or round
doubles) just like <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> (#20).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code> is now implemented with the tidy eval framework.
Like <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code>, expressions are evaluated without any user
data in scope. In addition a variable context is now established so
you can write rename helpers. Those should return a single round
number or a string (variable position or variable name).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_vars()</span></code> is a predicate that tests whether a variable context
has been set (#21).</p></li>
<li><p>The selection helpers are now exported in a list
<code class="docutils literal notranslate"><span class="pre">vars_select_helpers</span></code>.  This is intended for APIs that embed the
helpers in the evaluation environment.</p></li>
</ul>
</div>
<div class="section" id="fixes">
<h2>Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">one_of()</span></code> argument <code class="docutils literal notranslate"><span class="pre">vars</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">.vars</span></code> to avoid
spurious matching.</p></li>
</ul>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tidyselect-0-1-1">
<h1>tidyselect 0.1.1<a class="headerlink" href="#tidyselect-0-1-1" title="Permalink to this headline">¶</a></h1>
<p>tidyselect is the new home for the legacy functions
<code class="docutils literal notranslate"><span class="pre">dplyr::select_vars()</span></code>, <code class="docutils literal notranslate"><span class="pre">dplyr::rename_vars()</span></code> and
<code class="docutils literal notranslate"><span class="pre">dplyr::select_var()</span></code>.</p>
<div class="section" id="api-changes">
<h2>API changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h2>
<p>We took this opportunity to make a few changes to the API:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">select_vars()</span></code> and <code class="docutils literal notranslate"><span class="pre">rename_vars()</span></code> are now <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> and
<code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code>. This follows the tidyverse convention that a prefix
corresponds to the input type while suffixes indicate the output
type. Similarly, <code class="docutils literal notranslate"><span class="pre">select_var()</span></code> is now <code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code>.</p></li>
<li><p>The arguments are now prefixed with dots to limit argument matching
issues. While the dots help, it is still a good idea to splice a
list of captured quosures to make sure dotted arguments are never
matched to <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code>’s named arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>vars_select(vars, !!! quos(...))
</pre></div>
</div>
</li>
<li><p>Error messages can now be customised. For consistency with dplyr,
error messages refer to “columns” by default. This assumes that the
variables being selected come from a data frame. If this is not
appropriate for your DSL, you can now add an attribute <code class="docutils literal notranslate"><span class="pre">vars_type</span></code>
to the <code class="docutils literal notranslate"><span class="pre">.vars</span></code> vector to specify alternative names. This must be a
character vector of length 2 whose first component is the singular
form and the second is the plural. For example, <code class="docutils literal notranslate"><span class="pre">c(&quot;variable&quot;,</span> <span class="pre">&quot;variables&quot;)</span></code>.</p></li>
</ul>
</div>
<div class="section" id="establishing-a-variable-context">
<h2>Establishing a variable context<a class="headerlink" href="#establishing-a-variable-context" title="Permalink to this headline">¶</a></h2>
<p>tidyselect provides a few more ways of establishing a variable
context:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">scoped_vars()</span></code> sets up a variable context along with an an exit
hook that automatically restores the previous variables. It is the
preferred way of changing the variable context.</p>
<p><code class="docutils literal notranslate"><span class="pre">with_vars()</span></code> takes variables and an expression and evaluates the
latter in the context of the former.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">poke_vars()</span></code> establishes a new variable context. It returns the
previous context invisibly and it is your responsibility to restore
it after you are done. This is for expert use only.</p>
<p><code class="docutils literal notranslate"><span class="pre">current_vars()</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">peek_vars()</span></code>. This naming is a
reference to <a class="reference external" href="https://en.wikipedia.org/wiki/PEEK_and_POKE">peek and poke</a>
from legacy languages.</p>
</li>
</ul>
</div>
<div class="section" id="new-evaluation-semantics">
<h2>New evaluation semantics<a class="headerlink" href="#new-evaluation-semantics" title="Permalink to this headline">¶</a></h2>
<p>The evaluation semantics for selecting verbs have changed. Symbols are
now evaluated in a data-only context that is isolated from the calling
environment. This means that you can no longer refer to local variables
unless you are explicitly unquoting these variables with <code class="docutils literal notranslate"><span class="pre">!!</span></code>, which
is mostly for expert use.</p>
<p>Note that since dplyr 0.7, helper calls (like <code class="docutils literal notranslate"><span class="pre">starts_with()</span></code>) obey
the opposite behaviour and are evaluated in the calling context
isolated from the data context. To sum up, symbols can only refer to
data frame objects, while helpers can only refer to contextual
objects. This differs from usual R evaluation semantics where both
the data and the calling environment are in scope (with the former
prevailing over the latter).</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./temporal/renv/library/R-4.1/aarch64-apple-darwin20/tidyselect"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Quan Nguyen<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>