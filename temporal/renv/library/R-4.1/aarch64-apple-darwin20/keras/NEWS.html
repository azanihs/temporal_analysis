
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>keras 2.9.0 &#8212; Temporal and sequential analysis - LASI 2022</title>
    
  <link href="../../../../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../../_static/solar_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Temporal and sequential analysis - LASI 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture1.html">
   Lecture 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture2.html">
   Lecture 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture3.html">
   Lecture 3
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Labs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab1.html">
   Lab 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab2.html">
   Lab 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab3.html">
   Lab 3
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Quan Nguyen<br>Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/temporal/renv/library/R-4.1/aarch64-apple-darwin20/keras/NEWS.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/quan3010/temporal_analysis"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/quan3010/temporal_analysis/issues/new?title=Issue%20on%20page%20%2Ftemporal/renv/library/R-4.1/aarch64-apple-darwin20/keras/NEWS.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   keras 2.9.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-8-0">
   keras 2.8.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-7-0">
   keras 2.7.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-6-1">
   keras 2.6.1
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-6-0">
   keras 2.6.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-4-0">
   keras 2.4.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-2-3-0-cran">
   Keras 2.2.3.0 (CRAN)
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-2-5-0-cran">
   Keras 2.2.5.0 (CRAN)
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keras-2-2-4-1-cran">
     Keras 2.2.4.1 (CRAN)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-2-4-cran">
   Keras 2.2.4 (CRAN)
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-2-0">
   Keras 2.2.0
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keras-2-1-6">
     Keras 2.1.6
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keras-2-1-5">
     Keras 2.1.5
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keras-2-1-4">
     Keras 2.1.4
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keras-2-1-3">
     Keras 2.1.3
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-1-2">
   Keras 2.1.2
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-0-9">
   keras 2.0.9
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-0-8">
   keras 2.0.8
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keras-2-0-6">
     keras 2.0.6
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keras-2-0-5">
   keras 2.0.5
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="keras-2-9-0">
<h1>keras 2.9.0<a class="headerlink" href="#keras-2-9-0" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>New functions for constructing custom keras subclasses:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_model_class()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">new_layer_class()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">new_callback_class()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">new_metric_class()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">new_loss_class()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">new_learning_rate_schedule_class()</span></code>.</p></li>
</ul>
<p>Also provided is <code class="docutils literal notranslate"><span class="pre">mark_active()</span></code>, a decorator for indicating a class method
should be an active binding (i.e., decorated with Python’s <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code>).
<code class="docutils literal notranslate"><span class="pre">mark_active()</span></code> can be used in the <code class="docutils literal notranslate"><span class="pre">new_*_class</span></code> family of class constructors
as well as <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">r_to_py()</span></code> method for R6 classes and <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code> gain support for
<code class="docutils literal notranslate"><span class="pre">private</span></code> fields and methods. Any R objects stored in <code class="docutils literal notranslate"><span class="pre">private</span></code> will only be
available to methods, and will not be converted to Python.</p></li>
<li><p>New family of functions for controlling optimizer learning rates during training:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate_schedule_cosine_decay()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate_schedule_cosine_decay_restarts()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate_schedule_exponential_decay()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate_schedule_inverse_time_decay()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate_schedule_piecewise_constant_decay()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate_schedule_polynomial_decay()</span></code></p></li>
</ul>
<p>Also, a function for constructing custom learning rate schedules:
<code class="docutils literal notranslate"><span class="pre">new_learning_rate_schedule_class()</span></code>.</p>
</li>
<li><p>New L2 unit normilization layer: <code class="docutils literal notranslate"><span class="pre">layer_unit_normalization()</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">regularizer_orthogonal</span></code>, a regularizer that encourages
orthogonality between the rows (or columns) or a weight matrix.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">zip_lists()</span></code> function for transposing lists, optionally matching by name.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">plot()</span></code> S3 method for models.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pydot</span></code> is now included in the packages installed by <code class="docutils literal notranslate"><span class="pre">install_keras()</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">png</span></code> package is now listed under Suggests.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">%&lt;&gt;%</span></code> assignment pipe from magrittr is exported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format()</span></code> method for keras models (and derivative methods <code class="docutils literal notranslate"><span class="pre">print()</span></code>, <code class="docutils literal notranslate"><span class="pre">summary()</span></code>,
<code class="docutils literal notranslate"><span class="pre">str()</span></code>, and <code class="docutils literal notranslate"><span class="pre">py_str()</span></code>):</p>
<ul class="simple">
<li><p>gain a new arg <code class="docutils literal notranslate"><span class="pre">compact</span></code>. If <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> (the default) white-space only
lines are stripped out of <code class="docutils literal notranslate"><span class="pre">model.summary()</span></code>.</p></li>
<li><p>If any layers are marked non-trainable or frozen, the model summary
now includes a “Trainable” column, indicating if a layer is frozen.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">freeze_weights()</span></code> and <code class="docutils literal notranslate"><span class="pre">unfreeze_weights()</span></code>:</p>
<ul class="simple">
<li><p>gain a flexible <code class="docutils literal notranslate"><span class="pre">which</span></code> argument that can accept layer names (as character strings),
an integer vector, a boolean vector, or a function that returns a boolean
when called with a layer. (see updated examples in <code class="docutils literal notranslate"><span class="pre">?freeze_weights</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from</span></code> and <code class="docutils literal notranslate"><span class="pre">to</span></code> arguments gain the ability to accept negative integers,
to specify layers counting from the end of the layers list.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_weights()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">trainable</span></code> argument that can accept <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>,
allowing for returning only the unfrozen or frozen weights, respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timeseries_dataset_from_array()</span></code>:</p>
<ul class="simple">
<li><p>R arrays are now cast to the floatx dtype (“float32” by default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code> now are 1-based.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">image_dataset_from_directory()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">crop_to_aspect_ratio</span></code> argument which
can be used to prevent distorting images when resizing to a new aspect ratio.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Layer</span></code> is deprecated, superseded by <code class="docutils literal notranslate"><span class="pre">new_layer_class()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_model_tf()</span></code> argument <code class="docutils literal notranslate"><span class="pre">custom_objects</span></code> gains the ability to accept an
unnamed list (e.g, of objects returned by <code class="docutils literal notranslate"><span class="pre">new_layer_class()</span></code> or similar).
Appropriate names for the supplied objects are automatically inferred.</p></li>
<li><p>Fixed an issue where negative values less than -1 supplied to <code class="docutils literal notranslate"><span class="pre">axis</span></code>
arguments were selecting the wrong axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_layer()</span></code> gains the ability to accept negative values for the <code class="docutils literal notranslate"><span class="pre">index</span></code> argument.</p></li>
<li><p>Fixed warning from <code class="docutils literal notranslate"><span class="pre">create_layer_wrapper()</span></code> when the custom layer didn’t have
an overridden <code class="docutils literal notranslate"><span class="pre">initialize</span></code> or <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method.</p></li>
<li><p>Backend functions:</p>
<ul class="simple">
<li><p>k_clip() <code class="docutils literal notranslate"><span class="pre">min_value</span></code> and <code class="docutils literal notranslate"><span class="pre">max_value</span></code> gain default values of <code class="docutils literal notranslate"><span class="pre">NULL</span></code>,
can be omitted. <code class="docutils literal notranslate"><span class="pre">NULL</span></code> is taken as -Inf or Inf, respectively.</p></li>
<li><p>k_squeeze(): <code class="docutils literal notranslate"><span class="pre">axis</span></code> argument can be omitted, in which case all axes of size 1 are dropped.</p></li>
<li><p>k_tile(): <code class="docutils literal notranslate"><span class="pre">n</span></code> argument can now be supplied as a tensor.</p></li>
<li><p>New function <code class="docutils literal notranslate"><span class="pre">k_unstack()</span></code>.</p></li>
</ul>
</li>
<li><p>KerasTensor objects (e.g, returned by <code class="docutils literal notranslate"><span class="pre">layer_input()</span></code>) now inherit S3 methods
for <code class="docutils literal notranslate"><span class="pre">&quot;tensorflow.tensor&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot.keras_training_history()</span></code> no longer issues message
<code class="docutils literal notranslate"><span class="pre">`geom_smooth()`</span> <span class="pre">using</span> <span class="pre">formula</span> <span class="pre">'y</span> <span class="pre">~</span> <span class="pre">x'</span></code> when <code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">&quot;ggplot2&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print</span></code> and related methods for models (<code class="docutils literal notranslate"><span class="pre">format</span></code>, <code class="docutils literal notranslate"><span class="pre">summary</span></code>) now accept
a <code class="docutils literal notranslate"><span class="pre">width</span></code> argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">evaluate()</span></code>, <code class="docutils literal notranslate"><span class="pre">fit()</span></code>, and <code class="docutils literal notranslate"><span class="pre">predict()</span></code> methods for keras Models now default
to <code class="docutils literal notranslate"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">&quot;auto&quot;</span></code>, with verbosity adjusted appropriately based on calls to
<code class="docutils literal notranslate"><span class="pre">keras$utils$disable_interactive_logging()</span></code>, and contexts like
<code class="docutils literal notranslate"><span class="pre">ParameterServerStrategy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">install_keras()</span></code> now accepts <code class="docutils literal notranslate"><span class="pre">version</span> <span class="pre">=</span> <span class="pre">&quot;release-cpu&quot;</span></code> as a valid specification.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-8-0">
<h1>keras 2.8.0<a class="headerlink" href="#keras-2-8-0" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>Breaking change: The semantics of passing a named list to <code class="docutils literal notranslate"><span class="pre">keras_model()</span></code> have changed.</p>
<p>Previously, <code class="docutils literal notranslate"><span class="pre">keras_model()</span></code> would <code class="docutils literal notranslate"><span class="pre">unname()</span></code> supplied <code class="docutils literal notranslate"><span class="pre">inputs</span></code> and <code class="docutils literal notranslate"><span class="pre">outputs</span></code>.
Then, if a named list was passed to subsequent
<code class="docutils literal notranslate"><span class="pre">fit()</span></code>/<code class="docutils literal notranslate"><span class="pre">evaluate()</span></code>/<code class="docutils literal notranslate"><span class="pre">call()</span></code>/<code class="docutils literal notranslate"><span class="pre">predict()</span></code> invocations,
matching of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> was done to the model’s input and outpt <code class="docutils literal notranslate"><span class="pre">tensor$name</span></code>’s.
Now, matching is done to <code class="docutils literal notranslate"><span class="pre">names()</span></code> of <code class="docutils literal notranslate"><span class="pre">inputs</span></code> and/or <code class="docutils literal notranslate"><span class="pre">outputs</span></code> supplied to <code class="docutils literal notranslate"><span class="pre">keras_model()</span></code>.
Call <code class="docutils literal notranslate"><span class="pre">unname()</span></code> on <code class="docutils literal notranslate"><span class="pre">inputs</span></code> and <code class="docutils literal notranslate"><span class="pre">outputs</span></code> to restore the old behavior, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keras_model</span><span class="p">(</span><span class="n">unname</span><span class="p">(</span><span class="n">inputs</span><span class="p">),</span> <span class="n">unname</span><span class="p">(</span><span class="n">outputs</span><span class="p">))</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">keras_model()</span></code> can now accept a named list for multi-input and/or multi-output
models. The named list is converted to a <code class="docutils literal notranslate"><span class="pre">dict</span></code> in python.
(Requires Tensorflow &gt;= 2.4, Python &gt;= 3.7).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inputs</span></code> is a named list:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">call()</span></code>, <code class="docutils literal notranslate"><span class="pre">fit()</span></code>, <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code>, and <code class="docutils literal notranslate"><span class="pre">predict()</span></code> methods can also
accept a named list for <code class="docutils literal notranslate"><span class="pre">x</span></code>, with names matching to the
names of <code class="docutils literal notranslate"><span class="pre">inputs</span></code> when the model was constructed.
Positional matching of <code class="docutils literal notranslate"><span class="pre">x</span></code> is still also supported (requires python 3.7+).</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">outputs</span></code> is a named list:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fit()</span></code> and <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code> methods can <em>only</em>
accept a named list for <code class="docutils literal notranslate"><span class="pre">y</span></code>, with names matching to the
names of <code class="docutils literal notranslate"><span class="pre">outputs</span></code> when the model was constructed.</p></li>
</ul>
</li>
<li><p>New layer <code class="docutils literal notranslate"><span class="pre">layer_depthwise_conv_1d()</span></code>.</p></li>
<li><p>Models gain <code class="docutils literal notranslate"><span class="pre">format()</span></code> and <code class="docutils literal notranslate"><span class="pre">print()</span></code> S3 methods for compatibility
with the latest reticulate. Both are powered by <code class="docutils literal notranslate"><span class="pre">model$summary()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">summary()</span></code> method for Models gains arguments <code class="docutils literal notranslate"><span class="pre">expand_nested</span></code> and <code class="docutils literal notranslate"><span class="pre">show_trainable</span></code>,
both default to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keras_model_custom()</span></code> is soft deprecated. Please define custom models by
subclassing <code class="docutils literal notranslate"><span class="pre">keras$Model</span></code> directly using <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code> or <code class="docutils literal notranslate"><span class="pre">R6::R6Class()</span></code>.</p></li>
<li><p>Fixed warning issued by <code class="docutils literal notranslate"><span class="pre">k_random_binomial()</span></code>.</p></li>
<li><p>Fixed error raised when <code class="docutils literal notranslate"><span class="pre">k_random_binomial()</span></code> was passed a non-floating dtype.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">k_random_bernouli()</span></code> as an alias for <code class="docutils literal notranslate"><span class="pre">k_random_binomial()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image_load()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">color_mode</span></code> argument.</p></li>
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">create_layer_wrapper()</span></code> would not include arguments
with a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> default value in the returned wrapper.</p></li>
<li><p>Fixed issue in <code class="docutils literal notranslate"><span class="pre">r_to_py.R6ClassGenerator</span></code> (and <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code>) where
single-expression <code class="docutils literal notranslate"><span class="pre">initialize</span></code> functions defined without <code class="docutils literal notranslate"><span class="pre">{</span></code> would error.</p></li>
<li><p>Deprecated functions are no longer included in the package documentation index.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-7-0">
<h1>keras 2.7.0<a class="headerlink" href="#keras-2-7-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Default Tensorflow + Keras version is now 2.7.</p></li>
<li><p>New API for constructing RNN (Recurrent Neural Network) layers. This is a
flexible interface that complements the existing RNN layers. It is primarily
intended for advanced / research applications, e.g, prototyping novel
architectures. It allows you to compose a RNN with a custom “cell”, a Keras layer that
processes one step of a sequence.
New symbols:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_rnn()</span></code>, which can compose with builtin cells:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_gru_cell()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_lstm_cell()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_simple_rnn_cell()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_stacked_rnn_cells()</span></code>
To learn more, including how to make a custom cell layer, see the new vignette:
“Working with RNNs”.</p></li>
</ul>
</li>
<li><p>New dataset functions:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">text_dataset_from_directory()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timeseries_dataset_from_array()</span></code></p></li>
</ul>
</li>
<li><p>New layers:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_additive_attention()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_conv_lstm_1d()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_conv_lstm_3d()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_cudnn_gru()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_cudnn_lstm()</span></code> are deprecated.
<code class="docutils literal notranslate"><span class="pre">layer_gru()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_lstm()</span></code> will automatically use CuDNN if it is available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_lstm()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_gru()</span></code>:
default value for <code class="docutils literal notranslate"><span class="pre">recurrent_activation</span></code> changed
from <code class="docutils literal notranslate"><span class="pre">&quot;hard_sigmoid&quot;</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;sigmoid&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_gru()</span></code>: default value <code class="docutils literal notranslate"><span class="pre">reset_after</span></code> changed from <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p>New vignette: “Transfer learning and fine-tuning”.</p></li>
<li><p>New applications:</p>
<ul>
<li><p>MobileNet V3: <code class="docutils literal notranslate"><span class="pre">application_mobilenet_v3_large()</span></code>, <code class="docutils literal notranslate"><span class="pre">application_mobilenet_v3_small()</span></code></p></li>
<li><p>ResNet: <code class="docutils literal notranslate"><span class="pre">application_resnet101()</span></code>, <code class="docutils literal notranslate"><span class="pre">application_resnet152()</span></code>, <code class="docutils literal notranslate"><span class="pre">resnet_preprocess_input()</span></code></p></li>
<li><p>ResNet V2:<code class="docutils literal notranslate"><span class="pre">application_resnet50_v2()</span></code>, <code class="docutils literal notranslate"><span class="pre">application_resnet101_v2()</span></code>,
<code class="docutils literal notranslate"><span class="pre">application_resnet152_v2()</span></code> and <code class="docutils literal notranslate"><span class="pre">resnet_v2_preprocess_input()</span></code></p></li>
<li><p>EfficientNet: <code class="docutils literal notranslate"><span class="pre">application_efficientnet_b{0,1,2,3,4,5,6,7}()</span></code></p></li>
</ul>
</li>
<li><p>Many existing <code class="docutils literal notranslate"><span class="pre">application_*()</span></code>’s gain argument <code class="docutils literal notranslate"><span class="pre">classifier_activation</span></code>,
with default <code class="docutils literal notranslate"><span class="pre">'softmax'</span></code>.
Affected: <code class="docutils literal notranslate"><span class="pre">application_{xception,</span> <span class="pre">inception_resnet_v2,</span> <span class="pre">inception_v3,</span> <span class="pre">mobilenet,</span> <span class="pre">vgg16,</span> <span class="pre">vgg19}()</span></code></p></li>
<li><p>New function <code class="docutils literal notranslate"><span class="pre">%&lt;-active%</span></code>, a ergonomic wrapper around <code class="docutils literal notranslate"><span class="pre">makeActiveBinding()</span></code>
for constructing Python <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> decorated methods in <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bidirectional()</span></code> sequence processing layer wrapper gains a <code class="docutils literal notranslate"><span class="pre">backwards_layer</span></code> arguments.</p></li>
<li><p>Global pooling layers <code class="docutils literal notranslate"><span class="pre">layer_global_{max,average}_pooling_{1,2,3}d()</span></code> gain a
<code class="docutils literal notranslate"><span class="pre">keepdims</span></code> argument with default value <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.</p></li>
<li><p>Signatures for layer functions are in the process of being simplified.
Standard layer arguments are moving to <code class="docutils literal notranslate"><span class="pre">...</span></code> where appropriate
(and will need to be provided as named arguments).
Standard layer arguments include:
<code class="docutils literal notranslate"><span class="pre">input_shape</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_input_shape</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code>, <code class="docutils literal notranslate"><span class="pre">dtype</span></code>,
<code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">trainable</span></code>, <code class="docutils literal notranslate"><span class="pre">weights</span></code>.
Layers updated:
<code class="docutils literal notranslate"><span class="pre">layer_global_{max,average}_pooling_{1,2,3}d()</span></code>,
<code class="docutils literal notranslate"><span class="pre">time_distributed()</span></code>, <code class="docutils literal notranslate"><span class="pre">bidirectional()</span></code>,
<code class="docutils literal notranslate"><span class="pre">layer_gru()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_lstm()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_simple_rnn()</span></code></p></li>
<li><p>All the backend function with a shape argument <code class="docutils literal notranslate"><span class="pre">k_*(shape</span> <span class="pre">=)</span></code> that now accept a
a mix of integer tensors and R numerics in the supplied list.</p></li>
<li><p>All layer functions now accept <code class="docutils literal notranslate"><span class="pre">NA</span></code> as a synonym for <code class="docutils literal notranslate"><span class="pre">NULL</span></code> in arguments
that specify shape as a vector of dimension values,
e.g., <code class="docutils literal notranslate"><span class="pre">input_shape</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_input_shape</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k_random_uniform()</span></code> now automatically casts <code class="docutils literal notranslate"><span class="pre">minval</span></code> and <code class="docutils literal notranslate"><span class="pre">maxval</span></code> to the output dtype.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">install_keras()</span></code> gains arg with default <code class="docutils literal notranslate"><span class="pre">pip_ignore_installed</span> <span class="pre">=</span> <span class="pre">TRUE</span></code>.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-6-1">
<h1>keras 2.6.1<a class="headerlink" href="#keras-2-6-1" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p>New family of <em>preprocessing</em> layers. These are the spiritual successor to the <code class="docutils literal notranslate"><span class="pre">tfdatasets::step_*</span></code> family of data transformers (to be deprecated in a future release).
Added a new vignette: “Working with Preprocessing Layers”.
New functions:</p>
<p>Image preprocessing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">layer_resizing()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_rescaling()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_center_crop()</span></code></p></li>
</ul>
<p>Image augmentation:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_crop()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_flip()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_translation()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_rotation()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_zoom()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_contrast()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_height()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_random_width()</span></code></p></li>
</ul>
<p>Categorical features preprocessing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">layer_category_encoding()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_hashing()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_integer_lookup()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_string_lookup()</span></code></p></li>
</ul>
<p>Numerical features preprocessing:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">layer_normalization()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_discretization()</span></code></p></li>
</ul>
<p>These join the previous set of text preprocessing functions, each of which have some minor changes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">layer_text_vectorization()</span></code> (changed arguments)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_vocabulary()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_vocabulary()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adapt()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">adapt()</span></code> changes:</p>
<ul class="simple">
<li><p>Now accepts all <em>features preprocessing</em> layers, previously
only <code class="docutils literal notranslate"><span class="pre">layer_text_vectorization()</span></code> instances were valid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reset_state</span></code> argument is removed. It only ever accepted the default value of <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>.</p></li>
<li><p>New arguments <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> and <code class="docutils literal notranslate"><span class="pre">steps</span></code>.</p></li>
<li><p>Now returns the adapted layer invisibly for composability with <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> (previously returned <code class="docutils literal notranslate"><span class="pre">NULL</span></code>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_vocabulary()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">include_special_tokens</span></code> argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_vocabulary()</span></code>:</p>
<ul class="simple">
<li><p>Now returns the adapted layer invisibly for composability with <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> (previously returned <code class="docutils literal notranslate"><span class="pre">NULL</span></code>)</p></li>
<li><p>Signature simplified. Deprecated arguments (<code class="docutils literal notranslate"><span class="pre">df_data</span></code> <code class="docutils literal notranslate"><span class="pre">oov_df_value</span></code>) are now subsumed in <code class="docutils literal notranslate"><span class="pre">...</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_text_vectorization()</span></code>:</p>
<ul class="simple">
<li><p>valid values for argument <code class="docutils literal notranslate"><span class="pre">output_mode</span></code> change: <code class="docutils literal notranslate"><span class="pre">&quot;binary&quot;</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">&quot;multi_hot&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;tf-idf&quot;</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">&quot;tf_idf&quot;</span></code> (backwards compatibility is preserved).</p></li>
<li><p>Fixed an issue where valid values of <code class="docutils literal notranslate"><span class="pre">output_mode</span> <span class="pre">=</span> <span class="pre">&quot;int&quot;</span></code> would incorrectly
return a ragged tensor output shape.</p></li>
</ul>
</li>
<li><p>Existing layer instances gain the ability to be added to sequential models via a call. E.g.:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">layer</span> <span class="o">&lt;-</span> <span class="nf">layer_dense</span><span class="p">(</span><span class="n">units</span> <span class="o">=</span> <span class="m">10</span><span class="p">)</span>
<span class="n">model</span> <span class="o">&lt;-</span> <span class="nf">keras_model_sequential</span><span class="p">(</span><span class="n">input_shape</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">))</span> <span class="o">%&gt;%</span>
  <span class="nf">layer</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Functions in the <em>merging layer</em> family gain the ability to return a layer instance if
the first argument <code class="docutils literal notranslate"><span class="pre">inputs</span></code> is missing. (affected: <code class="docutils literal notranslate"><span class="pre">layer_concatenate()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_add()</span></code>,
<code class="docutils literal notranslate"><span class="pre">layer_subtract()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_multiply()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_average()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_maximum()</span></code>,
<code class="docutils literal notranslate"><span class="pre">layer_minimum()</span></code> ,  <code class="docutils literal notranslate"><span class="pre">layer_dot()</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%py_class%</span></code> gains the ability to delay initializing the Python session until first use.
It is now safe to implement and export <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code> objects in an R package.</p></li>
<li><p>Fixed an issue in <code class="docutils literal notranslate"><span class="pre">layer_input()</span></code> where passing a tensorflow <code class="docutils literal notranslate"><span class="pre">DType</span></code> objects to argument <code class="docutils literal notranslate"><span class="pre">dtype</span></code> would throw an error.</p></li>
<li><p>Fixed an issue in <code class="docutils literal notranslate"><span class="pre">compile()</span></code> where passing an R function via an in-line
call would result in an error from subsequent <code class="docutils literal notranslate"><span class="pre">fit()</span></code> calls.
(e.g., <code class="docutils literal notranslate"><span class="pre">compile(loss</span> <span class="pre">=</span> <span class="pre">function(y_true,</span> <span class="pre">y_pred)</span> <span class="pre">my_loss(y_true,</span> <span class="pre">y_pred))</span></code>
now succeeds)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clone_model()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">clone_function</span></code> argument that allows you to customize each layer as it is cloned.</p></li>
<li><p>Bumped minimum R version to 3.4. Expanded CI to test on all supported R version. Fixed regression that prevented package installation on R &lt;= 3.4</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-6-0">
<h1>keras 2.6.0<a class="headerlink" href="#keras-2-6-0" title="Permalink to this headline">¶</a></h1>
<p>Breaking changes (Tensorflow 2.6):</p>
<ul class="simple">
<li><p>Note: The following breaking changes are specific to Tensorflow version 2.6.0.
However, the keras R package maintains compatibility with multiple versions of Tensorflow/Keras.
You can upgrade the R package and still preserve the previous behavior by
installing a specific version of Tensorflow: <code class="docutils literal notranslate"><span class="pre">keras::install_keras(tensorflow=&quot;2.4.0&quot;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">predict_proba()</span></code> and <code class="docutils literal notranslate"><span class="pre">predict_classes()</span></code> were removed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model_to_yaml()</span></code> and <code class="docutils literal notranslate"><span class="pre">model_from_yaml()</span></code> were removed.</p></li>
<li><p>default changed: <code class="docutils literal notranslate"><span class="pre">layer_text_vectorization(pad_to_max_tokens=FALSE)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_vocabulary()</span></code> arguments <code class="docutils literal notranslate"><span class="pre">df_data</span></code> and <code class="docutils literal notranslate"><span class="pre">oov_df_value</span></code> are removed. They are replaced by the new argument <code class="docutils literal notranslate"><span class="pre">idf_weights</span></code>.</p></li>
</ul>
<p>New Features:</p>
<ul>
<li><p>Default Tensorflow/Keras version is now 2.6</p></li>
<li><p>Introduced <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code>, an R-language constructor for Python classes.</p></li>
<li><p>New vignettes:</p>
<ul class="simple">
<li><p>Subclassing Python classes: How to use <code class="docutils literal notranslate"><span class="pre">%py_class%</span></code>.</p></li>
<li><p>Making new layers and models via subclassing.</p></li>
<li><p>Customizing what happens in fit (example of how to define a model, like a GAN, with a custom train step).</p></li>
<li><p>Writing your own callbacks.</p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">keras</span></code> Python module is exported</p></li>
<li><p>Major changes to the underlying handling of custom R6 layer classes.</p>
<ul class="simple">
<li><p>A new <code class="docutils literal notranslate"><span class="pre">r_to_py()</span></code> method is provided for <code class="docutils literal notranslate"><span class="pre">R6ClassGenerator</span></code> objects.</p></li>
<li><p>R6 custom layers can now inherit directly from Python layer classes
or other R6 custom layer classes.</p></li>
<li><p>Custom R6 layers can now be instantiated directly after conversion of the class generator with <code class="docutils literal notranslate"><span class="pre">r_to_py()</span></code>, without going through <code class="docutils literal notranslate"><span class="pre">create_layer()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KerasLayer</span></code> is deprecated (new classes should inherit directly from <code class="docutils literal notranslate"><span class="pre">keras$layers$Layer</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KerasWrapper</span></code> is deprecated (new classes should inherit directly from <code class="docutils literal notranslate"><span class="pre">keras$layers$Wrapper</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_wrapper()</span></code> is deprecated (no longer needed, use <code class="docutils literal notranslate"><span class="pre">create_layer()</span></code> directly).</p></li>
<li><p>All layer class methods provided as R functions now have a <code class="docutils literal notranslate"><span class="pre">super</span></code> in scope that resolves to the Python super class object.</p></li>
<li><p>Methods of <code class="docutils literal notranslate"><span class="pre">super</span></code> can be accessed in the 3 common ways:</p>
<ul>
<li><p>(Python 3 style): <code class="docutils literal notranslate"><span class="pre">super()$&quot;__init__&quot;()</span></code></p></li>
<li><p>(Python 2 style): <code class="docutils literal notranslate"><span class="pre">super(ClassName,</span> <span class="pre">self)$&quot;__init__&quot;()</span></code></p></li>
<li><p>(R6 style): <code class="docutils literal notranslate"><span class="pre">super$initialize()</span></code></p></li>
</ul>
</li>
<li><p>User defined custom classes that inherit from a Python type are responsible for calling <code class="docutils literal notranslate"><span class="pre">super()$`__init__`(...)</span></code> if appropriate.</p></li>
<li><p>Custom layers can now properly handle masks (#1225)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">supports_masking</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> attribute is now supported</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute_mask()</span></code> user defined method is now supported</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">call()</span></code> methods now support a <code class="docutils literal notranslate"><span class="pre">training</span></code> argument, as well as any additional arbitrary user-defined arguments</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Layer()</span></code> custom layer constructor is now lazy about initializing the Python session and safe to use on the top level of an R package (#1229).</p></li>
<li><p>New function <code class="docutils literal notranslate"><span class="pre">create_layer_wrapper()</span></code> that can create a composing R function wrapper around a custom layer class.</p></li>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">install_keras()</span></code> (along with <code class="docutils literal notranslate"><span class="pre">tensorflow::install_tensorflow()</span></code>).
Installation should be more reliable for more users now.
If you encounter installation issues, please file an issue: <a class="reference external" href="https://github.com/rstudio/keras/issues/new">https://github.com/rstudio/keras/issues/new</a></p>
<ul class="simple">
<li><p>Potentially breaking change: numeric versions supplied without a patchlevel now automatically pull the latest patch release.
(e.g. <code class="docutils literal notranslate"><span class="pre">install_keras(tensorflow=&quot;2.4&quot;)</span></code> will install tensorflow version “2.4.2”. Previously it would install “2.4.0”)</p></li>
<li><p>pandas is now a default extra packages installed by <code class="docutils literal notranslate"><span class="pre">install_keras()</span></code></p></li>
<li><p>pyyaml is no longer a installed by default if the Tensorflow version &gt;= 2.6.</p></li>
</ul>
</li>
<li><p>Loss functions:</p>
<ul class="simple">
<li><p>All the loss functions gain the ability to return a callable
(a <code class="docutils literal notranslate"><span class="pre">keras$losses$Loss</span></code> instance) if <code class="docutils literal notranslate"><span class="pre">y_true</span></code> and <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> arguments are missing.</p></li>
<li><p>New builtin loss functions:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">loss_huber()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loss_kl_divergence()</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Metric functions:</p>
<ul class="simple">
<li><p>All the metric functions gain the ability to return a <code class="docutils literal notranslate"><span class="pre">keras$metrics$Metric</span></code> instance if called without <code class="docutils literal notranslate"><span class="pre">y_true</span></code> and <code class="docutils literal notranslate"><span class="pre">y_pred</span></code></p></li>
<li><p>Each metric function is now documented separately, with a common <code class="docutils literal notranslate"><span class="pre">?Metric</span></code> topic demonstrating example usage.</p></li>
<li><p>New built-in metrics:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_true_negatives()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_true_positives()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_false_negatives()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_false_positives()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_specificity_at_sensitivity()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_sensitivity_at_specificity()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_precision()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_precision_at_recall()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_sum()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_recall()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_recall_at_precision()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_root_mean_squared_error()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_sparse_categorical_accuracy()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_mean_tensor()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_mean_wrapper()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_mean_iou()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_mean_relative_error()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_logcosh_error()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_mean()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_cosine_similarity()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_categorical_hinge()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_accuracy()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric_auc()</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">keras_model_sequential()</span></code> gains the ability to accept arguments that
define the input layer like <code class="docutils literal notranslate"><span class="pre">input_shape</span></code> and <code class="docutils literal notranslate"><span class="pre">dtype</span></code>.
See <code class="docutils literal notranslate"><span class="pre">?keras_model_sequential</span></code> for details and examples.</p></li>
<li><p>Many layers gained new arguments, coming to parity with the interface
available in the latest Python version:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>layer name</p></th>
<th class="head"><p>new argument</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layer_gru</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">time_major</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">layer_lstm</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">time_major</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layer_max_pooling_1d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data_format</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">layer_conv_lstm_2d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">return_state</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layer_depthwise_conv_2d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dilation_rate</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">layer_conv_3d_transpose</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dilation_rate</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layer_conv_1d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">layer_conv_2d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layer_conv_3d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">groups</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">layer_locally_connected_1d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">implementation</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layer_locally_connected_2d</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">implementation</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">layer_text_vectorization</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">vocabulary</span></code></p></td>
</tr>
</tbody>
</table>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">compile()</span></code> method for keras models has been updated:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is now an optional argument. It defaults to <code class="docutils literal notranslate"><span class="pre">&quot;rmsprop&quot;</span></code> for regular keras models.
Custom models can specify their own default optimizer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loss</span></code> is now an optional argument.</p></li>
<li><p>New optional arguments: <code class="docutils literal notranslate"><span class="pre">run_eagerly</span></code>, <code class="docutils literal notranslate"><span class="pre">steps_per_execution</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">target_tensors</span></code> and <code class="docutils literal notranslate"><span class="pre">sample_weight_mode</span></code> must now be supplied as named arguments.</p></li>
</ul>
</li>
<li><p>Added activation functions swish and gelu. (#1226)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set_vocabulary()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">idf_weights</span></code> argument.</p></li>
<li><p>All optimizer had argument <code class="docutils literal notranslate"><span class="pre">lr</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">learning_rate</span></code>.
(backwards compatibility is preserved, an R warning is now issued).</p></li>
<li><p>The glue package was added to Imports</p></li>
<li><p>Refactored automated tests to closer match the default installation procedure
and compute environment of most user.</p></li>
<li><p>Expanded CI test coverage to include R devel, oldrel and 3.6.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-4-0">
<h1>keras 2.4.0<a class="headerlink" href="#keras-2-4-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Use compat module when using <code class="docutils literal notranslate"><span class="pre">set_session</span></code> and <code class="docutils literal notranslate"><span class="pre">get_session</span></code>. (#1046)</p></li>
<li><p>Allows passing other arguments to <code class="docutils literal notranslate"><span class="pre">keras_model</span></code> eg <code class="docutils literal notranslate"><span class="pre">name</span></code>. (#1045)</p></li>
<li><p>Fixed bug when serializing models with the plaidml backends.(#1084)</p></li>
<li><p>Install keras no longer tries to install scipy because it’s already installed by tensorflow (#1081)</p></li>
<li><p>Fixed bug with <code class="docutils literal notranslate"><span class="pre">layer_text_vectorization</span></code> with TensorFlow &gt;= 2.3 (#1131)</p></li>
<li><p>Handle renamed argument <code class="docutils literal notranslate"><span class="pre">text</span></code> to <code class="docutils literal notranslate"><span class="pre">input_text</span></code> in <code class="docutils literal notranslate"><span class="pre">text_one_hot</span></code> (#1133)</p></li>
<li><p>Added TensorFlow 2.3 to the CI (#1102)</p></li>
<li><p>Fix C stack error when using Image Data Generators and Time Series generators with TensorFlow &lt;= 2.0.1 (#1135)</p></li>
<li><p>Fixed warning raised in the initial epoch (&#64;gsteinbu #1130)</p></li>
<li><p>Consistent result when using <code class="docutils literal notranslate"><span class="pre">text_hashing_trick</span></code> with missing values (&#64;topepo #1048)</p></li>
<li><p>Added a custom error message for <code class="docutils literal notranslate"><span class="pre">k_logsumexp</span></code> as it was removed from Keras (#1137)</p></li>
<li><p>Fixed bug when printing models that are not built yet. (#1138)</p></li>
<li><p>Fix drop_duplicates DeprecationWarning with tf 2.3 (&#64;gsteinbu #1139 #1141)</p></li>
<li><p>Fixed bug when plotting the model history if the model used an early stopping callback (#1140)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">install_keras</span></code> now installs a fixed version of h5py, because newer versions are backward incompatible. (#1142)</p></li>
<li><p>Simplify testing utilities by using a <code class="docutils literal notranslate"><span class="pre">helper-*</span></code> file. (#1173)</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">hdf5_matrix</span></code> if using TF &gt;= 2.4 (#1175)</p></li>
<li><p>Fixed TensorFlow nightly installation on CI (#1176)</p></li>
<li><p>Support for TensorFlow v2.4: just small fixes for custom classes. (#1177)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">untar</span></code> argument to <code class="docutils literal notranslate"><span class="pre">get_file</span></code> as it seems to be slightly different from <code class="docutils literal notranslate"><span class="pre">extract</span></code> (#1179)</p></li>
<li><p>Warn when not using the tensorflow implementation of Keras (#1181)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_layer_normalization</span></code> (#1183)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_multihead_attention</span></code> (#1184)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">image_dataset_from_directory</span></code> (#1185)</p></li>
<li><p>Fixed bug when using a custom layer with a time distributed adverb. (#1188)</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">ragged</span></code> argument to <code class="docutils literal notranslate"><span class="pre">layer_input</span></code>. (#1193)</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">*_generator</span></code> deadlocks with recent versions of TensorFlow (#1197)</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-2-3-0-cran">
<h1>Keras 2.2.3.0 (CRAN)<a class="headerlink" href="#keras-2-2-3-0-cran" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_attention</span></code> (#1000) by &#64;atroiano.</p></li>
<li><p>Fixed issue regarding the KerasMetricsCallback with TF v2.2 (#1020)</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-2-5-0-cran">
<h1>Keras 2.2.5.0 (CRAN)<a class="headerlink" href="#keras-2-2-5-0-cran" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_dense_features</span></code>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">on_test_*</span></code>, <code class="docutils literal notranslate"><span class="pre">on_test_batch_*</span></code>, <code class="docutils literal notranslate"><span class="pre">on_predict_*</span></code> and <code class="docutils literal notranslate"><span class="pre">on_predict_*</span></code> to callback options.</p></li>
<li><p>Search for the right optimizers and initializers on TensorFlow 2.0</p></li>
<li><p>Fixed bug in function generators when using models with multiple inputs. (#740)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">export_savedmodel</span></code> support for TensorFlow 2.0 (#773)</p></li>
<li><p>Fixed bug when using <code class="docutils literal notranslate"><span class="pre">metric_</span></code> functions. (#804)</p></li>
<li><p>Allow users to pass additional arguments to <code class="docutils literal notranslate"><span class="pre">install_keras</span></code> (#808)</p></li>
<li><p>Enabled calling Keras models with R arrays. (#806)</p></li>
<li><p>Allow passing <code class="docutils literal notranslate"><span class="pre">data.frames</span></code> as inputs to Keras models. (#822)</p></li>
<li><p>Fixed bug when passing a fixed validation set to <code class="docutils literal notranslate"><span class="pre">fit_generator</span></code> (#837)</p></li>
<li><p>Fixed bug when passing a TensorFlow dataset to <code class="docutils literal notranslate"><span class="pre">fit</span></code> within a <code class="docutils literal notranslate"><span class="pre">tf$distribute</span></code> scope. (#856)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">install_keras</span></code> will now install Keras dependencies (#856). It won’t re-install TensorFlow if it’s already installed.</p></li>
<li><p>Fixed deprecation messages showed with TensorFlow v1.14.</p></li>
<li><p>Largely reduced tests verbosity.</p></li>
</ul>
<div class="section" id="keras-2-2-4-1-cran">
<h2>Keras 2.2.4.1 (CRAN)<a class="headerlink" href="#keras-2-2-4-1-cran" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">tf.keras</span></code> as default implementation module.</p></li>
<li><p>Added AppVeyor to test on Windows.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">flow_images_from_dataframe</span></code> function (#658).</p></li>
<li><p>Allow for unknown <code class="docutils literal notranslate"><span class="pre">input_shape</span></code> in <code class="docutils literal notranslate"><span class="pre">application_*</span></code> functions.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">save_model_tf</span></code> and <code class="docutils literal notranslate"><span class="pre">load_model_tf</span></code> to save/load models in the TensorFlow’s
SavedModel format.</p></li>
</ul>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-2-4-cran">
<h1>Keras 2.2.4 (CRAN)<a class="headerlink" href="#keras-2-2-4-cran" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Improve handling of <code class="docutils literal notranslate"><span class="pre">timeseries_generator()</span></code> in calls to <code class="docutils literal notranslate"><span class="pre">fit_generator()</span></code></p></li>
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">input_shape</span></code> argument to <code class="docutils literal notranslate"><span class="pre">layer_dropout()</span></code></p></li>
<li><p>Improve error message for data frames passed to <code class="docutils literal notranslate"><span class="pre">fit()</span></code>, etc.</p></li>
<li><p>Use 1-based axis indices for <code class="docutils literal notranslate"><span class="pre">k_gather()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">version</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">install_keras()</span></code> for installing alternate/older versions</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">activation_exponential()</span></code> function.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">threshold</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">activation_relu()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">restore_best_weights</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">callback_model_checkpoint()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">update_freq</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">callback_tensorboard()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">negative_slope</span></code> and <code class="docutils literal notranslate"><span class="pre">threshold</span></code> parameters to <code class="docutils literal notranslate"><span class="pre">layer_activation_relu()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">output_padding</span></code> and <code class="docutils literal notranslate"><span class="pre">dilation_rate</span></code> parameters to <code class="docutils literal notranslate"><span class="pre">layer_conv_2d_transpose()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">output_padding</span></code> argument to <code class="docutils literal notranslate"><span class="pre">layer_conv_3d_transpose()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">data_format</span></code> argument to <code class="docutils literal notranslate"><span class="pre">layer_separable_conv_1d()</span></code>, <code class="docutils literal notranslate"><span class="pre">layer_average_pooling_1d()</span></code>,
<code class="docutils literal notranslate"><span class="pre">layer_global_max_pooling_1d()</span></code>, and <code class="docutils literal notranslate"><span class="pre">layer_global_average_pooling_1d()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">interpolation</span></code> argument to <code class="docutils literal notranslate"><span class="pre">layer_upsampling_1d()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_upsampling_2d()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument to <code class="docutils literal notranslate"><span class="pre">to_categorical()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_activation_selu()</span></code> function.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">KerasWrapper</span></code> class and corresponding <code class="docutils literal notranslate"><span class="pre">create_wrapper</span></code> function.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-2-0">
<h1>Keras 2.2.0<a class="headerlink" href="#keras-2-2-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Fix issue with serializing models that have constraint arguments</p></li>
<li><p>Fix issue with <code class="docutils literal notranslate"><span class="pre">k_tile</span></code> that needs an integer vector instead of a list as the <code class="docutils literal notranslate"><span class="pre">n</span></code> argument.</p></li>
<li><p>Fix issue with user-supplied <code class="docutils literal notranslate"><span class="pre">output_shape</span></code> in <code class="docutils literal notranslate"><span class="pre">layer_lambda()</span></code> not being supplied to tensorflow backends</p></li>
<li><p>Filter out metrics that were created for callbacks (e.g. <code class="docutils literal notranslate"><span class="pre">lr</span></code>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">application_mobilenet_v2()</span></code> pre-trained model</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">sample_weight</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">flow_images_from_data()</span></code></p></li>
<li><p>Use native Keras implementation (rather than SciPy) for <code class="docutils literal notranslate"><span class="pre">image_array_save()</span></code></p></li>
<li><p>Default <code class="docutils literal notranslate"><span class="pre">layer_flatten()</span></code> <code class="docutils literal notranslate"><span class="pre">data_format</span></code> argument to <code class="docutils literal notranslate"><span class="pre">NULL</span></code> (which defaults to global Keras config).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">baseline</span></code> argument to <code class="docutils literal notranslate"><span class="pre">callback_early_stopping()</span></code> (stop training if a given baseline isn’t reached).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">data_format</span></code> argument to <code class="docutils literal notranslate"><span class="pre">layer_conv_1d()</span></code>.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">layer_activation_relu()</span></code>, making the ReLU activation easier to configure
while retaining easy serialization capabilities.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">-1</span></code> argument in backend crossentropy functions specifying the class prediction
axis in the input tensor.</p></li>
<li><p>Handle symbolic tensors and TF datasets in calls to <code class="docutils literal notranslate"><span class="pre">fit()</span></code>, <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code>, and <code class="docutils literal notranslate"><span class="pre">predict()</span></code></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">embeddings_data</span></code> argument to <code class="docutils literal notranslate"><span class="pre">callback_tensorboard()</span></code></p></li>
<li><p>Support for defining custom Keras models (i.e. custom <code class="docutils literal notranslate"><span class="pre">call()</span></code> logic for forward pass)</p></li>
<li><p>Handle named list of model output names in <code class="docutils literal notranslate"><span class="pre">metrics</span></code> argument of <code class="docutils literal notranslate"><span class="pre">compile()</span></code></p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">custom_metric()</span></code> function for defining custom metrics in R</p></li>
<li><p>Provide typed wrapper for categorical custom metrics</p></li>
<li><p>Provide access to Python layer within R custom layers</p></li>
<li><p>Don’t convert custom layer output shape to tuple when shape is a list
or tuple of other shapes</p></li>
<li><p>Re-export <code class="docutils literal notranslate"><span class="pre">shape()</span></code> function from tensorflow package</p></li>
<li><p>Re-export <code class="docutils literal notranslate"><span class="pre">tuple()</span></code> function from reticulate package</p></li>
<li><p>Indexes for <code class="docutils literal notranslate"><span class="pre">get_layer()</span></code> are now 1-based (for consistency w/ <code class="docutils literal notranslate"><span class="pre">freeze_weights()</span></code>)</p></li>
<li><p>Accept named list for <code class="docutils literal notranslate"><span class="pre">sample_weight</span></code> argument to <code class="docutils literal notranslate"><span class="pre">fit()</span></code></p></li>
</ul>
<div class="section" id="keras-2-1-6">
<h2>Keras 2.1.6<a class="headerlink" href="#keras-2-1-6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fix issue with single-element vectors passed to text preprocessing functions</p></li>
<li><p>Compatibility with TensorFlow v1.7 Keras implementation</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">workers</span></code> parameter for native Keras generators (e.g. <code class="docutils literal notranslate"><span class="pre">flow_images_from_directory()</span></code>)</p></li>
<li><p>Accept tensor as argument to <code class="docutils literal notranslate"><span class="pre">k_pow()</span></code></p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">callback_reduce_lr_on_plateau()</span></code>, rename <code class="docutils literal notranslate"><span class="pre">epsilon</span></code> argument to <code class="docutils literal notranslate"><span class="pre">min_delta</span></code>
(backwards-compatible).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">axis</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">k_softmax()</span></code></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">send_as_json</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">callback_remote_monitor()</span></code></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">data_format</span></code> method to <code class="docutils literal notranslate"><span class="pre">layer_flatten()</span></code></p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">multi_gpu_model()</span></code>, add arguments <code class="docutils literal notranslate"><span class="pre">cpu_merge</span></code> and <code class="docutils literal notranslate"><span class="pre">cpu_relocation</span></code> (controlling whether
to force the template model’s weights to be on CPU, and whether to operate merge operations
on CPU or GPU).</p></li>
<li><p>Record correct loss name for tfruns when custom functions are provided for <code class="docutils literal notranslate"><span class="pre">loss</span></code></p></li>
</ul>
</div>
<div class="section" id="keras-2-1-5">
<h2>Keras 2.1.5<a class="headerlink" href="#keras-2-1-5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Support for custom constraints from R</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">timeseries_generator()</span></code> utility function</p></li>
<li><p>New layer <code class="docutils literal notranslate"><span class="pre">layer_depthwise_conv_2d()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">brightness_range</span></code> and <code class="docutils literal notranslate"><span class="pre">validation_split</span></code> arguments to
[image_data_generator()].</p></li>
</ul>
</div>
<div class="section" id="keras-2-1-4">
<h2>Keras 2.1.4<a class="headerlink" href="#keras-2-1-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">remove_learning_phase</span></code> in <code class="docutils literal notranslate"><span class="pre">export_savedmodel()</span></code> to avoid
removing learning phase.</p></li>
<li><p>Normalize validation data to Keras array in <code class="docutils literal notranslate"><span class="pre">fit()</span></code> and <code class="docutils literal notranslate"><span class="pre">fit_generator()</span></code></p></li>
<li><p>Ensure that custom layers return a tuple from <code class="docutils literal notranslate"><span class="pre">compute_output_shape()</span></code></p></li>
<li><p>Added Nasnet and Densenet pre-trained models</p></li>
<li><p>New layers <code class="docutils literal notranslate"><span class="pre">layer_activation_softmax()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_separable_conv_1d()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">amsgrad</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">optimizer_adam()</span></code></p></li>
<li><p>Fix incompatibility with Progbar.update() method in Keras 2.1.4</p></li>
</ul>
</div>
<div class="section" id="keras-2-1-3">
<h2>Keras 2.1.3<a class="headerlink" href="#keras-2-1-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Models saved via <code class="docutils literal notranslate"><span class="pre">export_savedmodel()</span></code> that make use of learning phases can
now be exported without having to manually reload the original model.</p></li>
<li><p>Ensure that models saved via <code class="docutils literal notranslate"><span class="pre">export_savedmodel()</span></code> can be served from CloudML</p></li>
<li><p>Run image data generators with R preprocessing functions on the main thread</p></li>
<li><p>Return R list from <code class="docutils literal notranslate"><span class="pre">texts_to_sequences()</span></code></p></li>
<li><p>Various fixes for <code class="docutils literal notranslate"><span class="pre">use_implementation()</span></code> function</p></li>
</ul>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-1-2">
<h1>Keras 2.1.2<a class="headerlink" href="#keras-2-1-2" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">theme_bw</span></code> option to plot method for training history</p></li>
<li><p>Support TF Dataset objects as generators for <code class="docutils literal notranslate"><span class="pre">fit_generator()</span></code>, etc.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">use_implementation()</span></code> and <code class="docutils literal notranslate"><span class="pre">use_backend()</span></code> functions as alternative to
setting <code class="docutils literal notranslate"><span class="pre">KERAS_IMPLEMENATION</span></code> and <code class="docutils literal notranslate"><span class="pre">KERAS_BACKEND</span></code> environment variables.</p></li>
<li><p>Added R wrappers for Keras backend functions (e.g. <code class="docutils literal notranslate"><span class="pre">k_variable()</span></code>,
<code class="docutils literal notranslate"><span class="pre">k_dot()</span></code>, etc.)</p></li>
<li><p>Use 1-based axis for <code class="docutils literal notranslate"><span class="pre">normalize</span></code> function.</p></li>
<li><p>Fix issue with printing training history after early stopping.</p></li>
<li><p>Experimental support for using the PlaidML backend.</p></li>
<li><p>Correct handling for R functions specified in <code class="docutils literal notranslate"><span class="pre">custom_objects</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">with_custom_object_scope()</span></code> function.</p></li>
<li><p>Automatically provide name to loss function during compile
(enables save/load of models with custom loss function)</p></li>
<li><p>Provide global <code class="docutils literal notranslate"><span class="pre">keras.fit_verbose</span></code> option (defaults to 1)</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-0-9">
<h1>keras 2.0.9<a class="headerlink" href="#keras-2-0-9" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">multi_gpu_model()</span></code> function.</p></li>
<li><p>Automatically call <code class="docutils literal notranslate"><span class="pre">keras_array()</span></code> on the results of generator functions.</p></li>
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">steps_per_epoch</span></code> is passed as an integer</p></li>
<li><p>Import <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code> generic from tensorflow package</p></li>
<li><p>Handle <code class="docutils literal notranslate"><span class="pre">NULL</span></code> when converting R arrays to Keras friendly arrays</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">dataset_imbd_word_index()</span></code> function</p></li>
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">sample_weight</span></code> is passed to <code class="docutils literal notranslate"><span class="pre">fit()</span></code> as an array.</p></li>
<li><p>Accept single function as <code class="docutils literal notranslate"><span class="pre">metrics</span></code> argument to <code class="docutils literal notranslate"><span class="pre">compile()</span></code></p></li>
<li><p>Automatically cast <code class="docutils literal notranslate"><span class="pre">input_shape</span></code> argument to applications to integer</p></li>
<li><p>Allow Keras models to be composable within model pipelines</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">freeze_weights()</span></code> and <code class="docutils literal notranslate"><span class="pre">unfreeze_weights()</span></code> functions.</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">export_savedmodel()</span></code> generic from TensorFlow package</p></li>
<li><p>Convert R arrays to row-major before image preprocessing</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">tensorflow.keras</span></code> for tensorflow implementation (TF v1.4)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">application_inception_resnet_v2()</span></code> pre-trained model</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">dataset_fashion_mnist()</span></code> dataset</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_cudnn_gru()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_cudnn_lstm()</span></code> (faster
recurrent layers backed by <a class="reference external" href="https://developer.nvidia.com/cudnn">CuDNN</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">layer_minimum()</span></code> function</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">interpolation</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">image_load()</span></code> function</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">save_text_tokenizer()</span></code> and <code class="docutils literal notranslate"><span class="pre">load_text_tokenizer()</span></code> functions.</p></li>
<li><p>Fix for progress bar output in Keras &gt;= 2.0.9</p></li>
<li><p>Remove deprecated <code class="docutils literal notranslate"><span class="pre">implementation</span></code> argument from recurrent layers</p></li>
<li><p>Support for passing generators for validation data in <code class="docutils literal notranslate"><span class="pre">fit_generator()</span></code></p></li>
<li><p>Accept single integer arguments for kernel sizes</p></li>
<li><p>Add standard layer arguments to <code class="docutils literal notranslate"><span class="pre">layer_flatten()</span></code> and <code class="docutils literal notranslate"><span class="pre">layer_separable_conv_2d()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">image_array_resize()</span></code> and <code class="docutils literal notranslate"><span class="pre">image_array_save()</span></code> for 3D image arrays.</p></li>
<li><p>Allow custom layers and lambda layers to accept list parameters.</p></li>
<li><p>Expose <code class="docutils literal notranslate"><span class="pre">add_loss()</span></code> function for custom layers</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-0-8">
<h1>keras 2.0.8<a class="headerlink" href="#keras-2-0-8" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">use_session_with_seed()</span></code> function that establishes a random seed for the Keras session.
Note that this should not be used when training time is paramount, as it disables GPU
computation and CPU parallelism by default for more deterministic computations.</p></li>
<li><p>Fix for plotting training history with early stopping callback (thanks to &#64;JamesAllingham).</p></li>
<li><p>Return R training history object from <code class="docutils literal notranslate"><span class="pre">fit_generator()</span></code></p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">to_numpy_array()</span></code> function to <code class="docutils literal notranslate"><span class="pre">keras_array()</span></code> reflecting automatic use
of Keras default backend float type and “C” ordering.</p></li>
<li><p>Add standard layer arguments (e.g. <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">trainable</span></code>, etc.) to merge layers</p></li>
<li><p>Better support for training models from data tensors in TensorFlow (e.g. Datasets, TFRecords). Add a related example script.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">clone_model()</span></code> function, enabling to construct a new model, given an existing model to use as a template. Works even in a TensorFlow graph different from that of the original model.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">target_tensors</span></code> argument in <code class="docutils literal notranslate"><span class="pre">compile()</span></code>, enabling to use custom tensors or placeholders as model targets.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">steps_per_epoch</span></code> argument in <code class="docutils literal notranslate"><span class="pre">fit()</span></code>, enabling to train a model from data tensors in a way that is consistent with training from arrays. Similarly, add <code class="docutils literal notranslate"><span class="pre">steps</span></code> argument in <code class="docutils literal notranslate"><span class="pre">predict()</span></code> and <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code>.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">layer_subtract()</span></code> layer function.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">weighted_metrics</span></code> argument in compile to specify metric functions meant to take into account <code class="docutils literal notranslate"><span class="pre">sample_weight</span></code> or <code class="docutils literal notranslate"><span class="pre">class_weight</span></code>.</p></li>
<li><p>Enable stateful RNNs with CNTK.</p></li>
</ul>
<div class="section" id="keras-2-0-6">
<h2>keras 2.0.6<a class="headerlink" href="#keras-2-0-6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">install_keras()</span></code> function which installs both TensorFlow and Keras</p></li>
<li><p>Use keras package as default implementation rather than tf.contrib.keras</p></li>
<li><p>Training metrics plotted in realtime within the RStudio Viewer during fit</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">serialize_model()</span></code> and <code class="docutils literal notranslate"><span class="pre">unserialize_model()</span></code> functions for saving
Keras models as ‘raw’ R objects.</p></li>
<li><p>Automatically convert 64-bit R floats to backend default float type</p></li>
<li><p>Ensure that arrays passed to generator functions are normalized to C-order</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_numpy_array()</span></code> utility function for custom generators (enables
custom generators to yield C-ordered arrays of the correct float type)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> and <code class="docutils literal notranslate"><span class="pre">write_grads</span></code> arguments to <code class="docutils literal notranslate"><span class="pre">callback_tensorboard()</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">return_state</span></code> argument to recurrent layers.</p></li>
<li><p>Don’t re-export <code class="docutils literal notranslate"><span class="pre">install_tensorflow()</span></code> and <code class="docutils literal notranslate"><span class="pre">tf_config()</span></code> from tensorflow
package.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_keras_available()</span></code> function to probe whether the Keras Python
package is available in the current environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as.data.frame()</span></code> S3 method for Keras training history</p></li>
<li><p>Remove names from <code class="docutils literal notranslate"><span class="pre">keras_model()</span></code> inputs</p></li>
<li><p>Return result of <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code> as named list</p></li>
<li><p>Write run metrics and evaluation data to tfruns</p></li>
<li><p>Provide hint to use r-tensorflow environment when importing keras</p></li>
</ul>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="keras-2-0-5">
<h1>keras 2.0.5<a class="headerlink" href="#keras-2-0-5" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Initial CRAN release</p></li>
</ul>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./temporal/renv/library/R-4.1/aarch64-apple-darwin20/keras"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Quan Nguyen<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>