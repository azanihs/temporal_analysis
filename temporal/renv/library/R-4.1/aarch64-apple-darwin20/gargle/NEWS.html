
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gargle 1.2.0 &#8212; Temporal and sequential analysis - LASI 2022</title>
    
  <link href="../../../../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/togglebutton.js"></script>
    <script src="../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../../_static/solar_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Temporal and sequential analysis - LASI 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture1.html">
   Lecture 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture2.html">
   Lecture 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lecture3.html">
   Lecture 3
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Labs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab1.html">
   Lab 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab2.html">
   Lab 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../Lab3.html">
   Lab 3
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Quan Nguyen<br>Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../../../_sources/temporal/renv/library/R-4.1/aarch64-apple-darwin20/gargle/NEWS.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/quan3010/temporal_analysis"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/quan3010/temporal_analysis/issues/new?title=Issue%20on%20page%20%2Ftemporal/renv/library/R-4.1/aarch64-apple-darwin20/gargle/NEWS.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   gargle 1.2.0
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#workload-identity-federation">
     Workload identity federation
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#other-changes">
     Other changes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependency-changes">
     Dependency changes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-1-1-0">
   gargle 1.1.0
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#oauth-token-cache">
     OAuth token cache
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#user-interface">
     User interface
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Other changes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Dependency changes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-1-0-0">
   gargle 1.0.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-0-5-0">
   gargle 0.5.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-0-4-0">
   gargle 0.4.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-0-3-1">
   gargle 0.3.1
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-0-3-0">
   gargle 0.3.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-0-2-0">
   gargle 0.2.0
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gargle-0-1-3">
   gargle 0.1.3
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="gargle-1-2-0">
<h1>gargle 1.2.0<a class="headerlink" href="#gargle-1-2-0" title="Permalink to this headline">¶</a></h1>
<div class="section" id="workload-identity-federation">
<h2>Workload identity federation<a class="headerlink" href="#workload-identity-federation" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">credentials_external_account()</span></code> is a new function that implements “workload identity federation”, a new (as of April 2021) keyless authentication mechanism.
This allows applications running on a non-Google Cloud platform, such as AWS, to access Google Cloud resources without using a conventional service account token, eliminating the security problem posed by long-lived, powerful service account credential files.</p>
<p><code class="docutils literal notranslate"><span class="pre">credentials_external_account()</span></code> has been inserted into the default registry of credential-fetchers tried by <code class="docutils literal notranslate"><span class="pre">token_fetch()</span></code>, which makes it automatically available in certain wrapper packages, such as bigrquery.
<code class="docutils literal notranslate"><span class="pre">credentials_app_default()</span></code> recognizes the JSON configuration for an external account and passes such a call along to <code class="docutils literal notranslate"><span class="pre">credentials_external_account()</span></code>.</p>
<p>This new feature is still experimental and currently only supports AWS.
This <a class="reference external" href="https://cloud.google.com/blog/products/identity-security/enable-keyless-access-to-gcp-with-workload-identity-federation">blog post</a> provides a good high-level introduction to workload identity federation.</p>
</div>
<div class="section" id="other-changes">
<h2>Other changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">email</span></code> argument of <code class="docutils literal notranslate"><span class="pre">credentials_user_oauth2()</span></code> accepts domain-only email specification via a glob pattern.
The goal is to make it possible for code like <code class="docutils literal notranslate"><span class="pre">PKG_auth(email</span> <span class="pre">=</span> <span class="pre">&quot;*&#64;example.com&quot;)</span></code> to identify a suitable cached token when executed on the machine of either <code class="docutils literal notranslate"><span class="pre">alice&#64;example.com</span></code> or <code class="docutils literal notranslate"><span class="pre">bob&#64;example.com</span></code>.</p>
<p>gargle now throws errors via <code class="docutils literal notranslate"><span class="pre">cli::cli_abort()</span></code>, which means error messages now have the same styling as informational messages.</p>
</div>
<div class="section" id="dependency-changes">
<h2>Dependency changes<a class="headerlink" href="#dependency-changes" title="Permalink to this headline">¶</a></h2>
<p>aws.ec2metadata and aws.signature are new in Suggests.</p>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-1-1-0">
<h1>gargle 1.1.0<a class="headerlink" href="#gargle-1-1-0" title="Permalink to this headline">¶</a></h1>
<div class="section" id="oauth-token-cache">
<h2>OAuth token cache<a class="headerlink" href="#oauth-token-cache" title="Permalink to this headline">¶</a></h2>
<p>Two changes affect stored user OAuth tokens:</p>
<ul class="simple">
<li><p>The default cache location has moved, to better align with general
conventions around where to cache user data. Here’s how that looks for a
typical user:</p>
<ul>
<li><p>Typical before, macOS: <code class="docutils literal notranslate"><span class="pre">~/.R/gargle/gargle-oauth</span></code></p></li>
<li><p>Typical after, macOS: <code class="docutils literal notranslate"><span class="pre">~/Library/Caches/gargle</span></code></p></li>
<li><p>Typical before, Windows: <code class="docutils literal notranslate"><span class="pre">C:/Users/jane/.R/gargle/gargle-oauth</span></code></p></li>
<li><p>Typical after, Windows: <code class="docutils literal notranslate"><span class="pre">C:/Users/jane/AppData/Local/gargle/gargle/Cache</span></code></p></li>
</ul>
</li>
<li><p>Tokens created with one of the built-in OAuth apps provided by the tidyverse
packages are checked for validity. Tokens made with an old app are deleted.
Note that we introduced a new OAuth app in gargle v1.0.0 and the previous
app could be disabled at any time.</p>
<ul>
<li><p>Nickname of previous tidyverse OAuth app: <code class="docutils literal notranslate"><span class="pre">tidyverse-calliope</span></code></p></li>
<li><p>Nickname of tidyverse OAuth app as of gargle v1.0.0: <code class="docutils literal notranslate"><span class="pre">tidyverse-clio</span></code></p></li>
</ul>
</li>
</ul>
<p>For users who accept all default behaviour around OAuth, these changes just mean you will see some messages about cleaning and moving the token cache.
These users can also expect to go through interactive auth (approximately once per package / API), to obtain fresh tokens made with the current tidyverse OAuth app.</p>
<p>If the rolling of the tidyverse OAuth app is highly disruptive to your workflow, this is a good wake-up call that you should be using your own OAuth app or, perhaps, an entirely different auth method, such as using a service account token in non-interactive settings.
As always, these articles explain how to take more control of auth:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://gargle.r-lib.org/articles/get-api-credentials.html">https://gargle.r-lib.org/articles/get-api-credentials.html</a></p></li>
<li><p><a class="reference external" href="https://gargle.r-lib.org/articles/non-interactive-auth.html">https://gargle.r-lib.org/articles/non-interactive-auth.html</a></p></li>
</ul>
</div>
<div class="section" id="user-interface">
<h2>User interface<a class="headerlink" href="#user-interface" title="Permalink to this headline">¶</a></h2>
<p>The user interface has gotten more stylish, thanks to the cli package (<a class="reference external" href="https://cli.r-lib.org">https://cli.r-lib.org</a>).</p>
<p>All errors thrown by gargle route through <code class="docutils literal notranslate"><span class="pre">rlang::abort()</span></code>, providing better access to the backtrace and, potentially, error data.
These errors have, at the very least, the <code class="docutils literal notranslate"><span class="pre">gargle_error</span></code> class and may also have additional subclasses.</p>
<p><code class="docutils literal notranslate"><span class="pre">gargle_verbosity()</span></code> replaces <code class="docutils literal notranslate"><span class="pre">gargle_quiet()</span></code>.
Each such function is (or was) a convenience wrapper to query the option with that name.
Therefore, the option named “gargle_verbosity” now replaces “gargle_quiet”.
If “gargle_verbosity” is unset, the old “gargle_quiet” is still consulted, but the user is advised to update their usage.</p>
<p>The new “gargle_verbosity” option is more expressive and has three levels:</p>
<ul class="simple">
<li><p>“debug”, equivalent to the previous <code class="docutils literal notranslate"><span class="pre">gargle_quiet</span> <span class="pre">=</span> <span class="pre">FALSE</span></code>. Use for debugging
and troubleshooting.</p></li>
<li><p>“info” (the default), basically equivalent to the previous
<code class="docutils literal notranslate"><span class="pre">gargle_quiet</span> <span class="pre">=</span> <span class="pre">TRUE</span></code>. Since gargle is not a user-facing package, it has very
little to say and only emits messages that end users really need to see.</p></li>
<li><p>“silent”, no previous equivalent and of little practical significance. But it
can be used to suppress all gargle messages.</p></li>
</ul>
<p>The helpers <code class="docutils literal notranslate"><span class="pre">with_gargle_verbosity()</span></code> and <code class="docutils literal notranslate"><span class="pre">local_gargle_verbosity()</span></code> make it easy to temporarily modify the verbosity level, in the spirit of the <a class="reference external" href="https://withr.r-lib.org">withr package</a>.</p>
</div>
<div class="section" id="id1">
<h2>Other changes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>There is special error handling when OAuth token refresh fails, due to deletion of the associated OAuth app.
This should help users who are relying on the default app provided by a package and, presumably, they need to update that package (#168).</p>
<p><code class="docutils literal notranslate"><span class="pre">gargle_oob_default()</span></code> returns <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> unconditionally when running in RStudio Server.</p>
<p><code class="docutils literal notranslate"><span class="pre">response_process()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">remember</span></code> argument.
When <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> (the default), gargle stores the most recent response internally (with auth tokens redacted).
Unexported functions <code class="docutils literal notranslate"><span class="pre">gargle:::gargle_last_response()</span></code> and <code class="docutils literal notranslate"><span class="pre">gargle:::gargle_last_content()</span></code> facilitate <em>post mortem</em> analysis of, e.g., a failed request (#152).</p>
<p><code class="docutils literal notranslate"><span class="pre">google.rpc.ErrorInfo</span></code> errors are explicitly handled now, resulting in a more informative error message.</p>
<p><code class="docutils literal notranslate"><span class="pre">request_retry()</span></code> is better able to detect when the per-user quota has been exhausted (vs. the per-project quota), resulting in a more informed choice of backoff.</p>
</div>
<div class="section" id="id2">
<h2>Dependency changes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>cli is new in Imports.</p>
<p>rstudioapi is new in Imports.</p>
<p>rappdirs is new in Imports.</p>
<p>httpuv is new in Suggests. We encourage its installation in interactive sessions, if we’re about to initiate OAuth flow, unless it’s clear that out-of-band auth is inevitable.</p>
<p>gargle now relies on testthat &gt;= 3.0.0 and, specifically, uses third edition features.</p>
<p>mockr is new in Suggests, since <code class="docutils literal notranslate"><span class="pre">testthat::use_mock()</span></code> is superseded.</p>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-1-0-0">
<h1>gargle 1.0.0<a class="headerlink" href="#gargle-1-0-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Better handling of <code class="docutils literal notranslate"><span class="pre">BadRequest</span></code> errors, i.e. more specifics are revealed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oauth_app_from_json</span></code> now supports JSON files from the “Web application”
client type (#155).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">request_retry()</span></code> is a drop-in substitute for <code class="docutils literal notranslate"><span class="pre">request_make()</span></code> that uses (modified) exponential backoff to retry requests that fail with error <code class="docutils literal notranslate"><span class="pre">429</span> <span class="pre">RESOURCE_EXHAUSTED</span></code> (#63).</p></li>
<li><p>Credentials used in selected client packages have been rolled. Users of bigrquery, googledrive, and googlesheets4 can expect a prompt to re-authorize the “Tidyverse API Packages” when using an OAuth user token. This has no impact on users who use their own OAuth app (i.e. client ID and secret) or those who use service account tokens.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-0-5-0">
<h1>gargle 0.5.0<a class="headerlink" href="#gargle-0-5-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://gargle.r-lib.org/articles/troubleshooting.html">Troubleshooting gargle auth</a>
is a new vignette.</p></li>
<li><p>All user-facing messaging routes through <code class="docutils literal notranslate"><span class="pre">rlang::inform()</span></code>, which (as of
rlang 0.4.2) prints to standard output in interactive sessions and to
standard error in non-interactive sessions (#133). Messaging remains under
the control of the <code class="docutils literal notranslate"><span class="pre">&quot;gargle_quiet&quot;</span></code> option, which defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Gargle2.0</span></code> class gains its own <code class="docutils literal notranslate"><span class="pre">$refresh()</span></code> method, which removes a
token from gargle’s cache when it cannot be refreshed (#79).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_service_account()</span></code> and <code class="docutils literal notranslate"><span class="pre">credentials_app_default()</span></code> gain an
optional <code class="docutils literal notranslate"><span class="pre">subject</span></code> argument, which can be used to pass a subject claim along
to <code class="docutils literal notranslate"><span class="pre">httr::oauth_service_token()</span></code> (#131, &#64;samterfa).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">request_make()</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">encode</span> <span class="pre">=</span> <span class="pre">&quot;json&quot;</span></code>, which differs from the httr
default, but aligns better with Google APIs (#124).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">field_mask()</span></code> is a utility function for constructing a
Protocol-Buffers-style, JSON-encoded field mask from a named R list.</p></li>
<li><p>All R6 classes use the new documentation capabilities that appeared in
roxygen2 7.0.0.</p></li>
<li><p>OAuth2 flow can only be initiated when <code class="docutils literal notranslate"><span class="pre">rlang::is_interactive()</span></code> is <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>. If
a new token is needed in a non-interactive session, gargle now throws an
error (#113).</p></li>
<li><p>The application default credentials path is fixed on non-Windows platforms
(#115, &#64;acroz).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">request_develop()</span></code> can accept a parameter that appears in both the path and
the body (#123).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">response_process()</span></code> explicitly declares the UTF-8 encoding of the content in
Google API responses <a class="reference external" href="https://github.com/tidyverse/googlesheets4/issues/26">tidyverse/googlesheets4#26</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">response_process()</span></code> is able to expose details for a wider set of errors.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-0-4-0">
<h1>gargle 0.4.0<a class="headerlink" href="#gargle-0-4-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Eliminated uninformative failure when OAuth tokens cached on R &lt;= 3.5 are re-loaded on R &gt;= 3.6. The change to the default serialization version (2 vs. 3) creates an apparent mismatch between a token’s hash and its key. Instead of inexplicably failing, now we attempt to repair the cache and carry on (#109, <a class="reference external" href="https://github.com/tidyverse/googledrive/issues/274">tidyverse/googledrive#274</a>.</p></li>
<li><p>In a non-interactive context, gargle will use a cached OAuth token, if it discovers (at least) one, even if the user has not given explicit instructions. We emit a recommendation that the user make their intent unambiguous and link to the vignette on non-interactive auth (#92).</p></li>
<li><p>gargle consults the option <code class="docutils literal notranslate"><span class="pre">&quot;httr_oob_default&quot;</span></code>, if the option <code class="docutils literal notranslate"><span class="pre">&quot;gargle_oob_default&quot;</span></code> is unset. This is part of an effort to automatically detect the need for out-of-bound auth in more situations (#102).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_service_account()</span></code> checks explicitly that <code class="docutils literal notranslate"><span class="pre">type</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;service_account&quot;</span></code>. This makes it easier to detect a common mistake, where the JSON for an OAuth client is provided instead of the JSON representing a service account (#93).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_gce()</span></code> gains <code class="docutils literal notranslate"><span class="pre">cloud-platform</span></code> as a default scope, assuming that the typical user wants to “View and manage your data across Google Cloud Platform services” (#110, &#64;MarkEdmondson1234).</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-0-3-1">
<h1>gargle 0.3.1<a class="headerlink" href="#gargle-0-3-1" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://gargle.r-lib.org/articles/non-interactive-auth.html">Non-interactive auth</a> is a new vignette that serves as a guide for any client packages that use gargle for auth.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_gce()</span></code> might actually work now (#97, &#64;wlongabaugh).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_app_default()</span></code> got a small bug fix relating to putting the token in the header (r-dbi/bigrquery#336)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">token_fetch()</span></code> silently catches warnings, in addition to errors, as it falls
through the registry of credential-fetching methods (#89).</p></li>
<li><p>The yes/no asking if it’s OK to cache OAuth tokens prints fully now
(r-dbi/bigrquery#333).</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-0-3-0">
<h1>gargle 0.3.0<a class="headerlink" href="#gargle-0-3-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>The unexported functions available for generating standardized docs for
<code class="docutils literal notranslate"><span class="pre">PKG_auth</span></code> functions in client packages have been updated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">token_userinfo()</span></code>, <code class="docutils literal notranslate"><span class="pre">token_email()</span></code>, and <code class="docutils literal notranslate"><span class="pre">token_tokeninfo()</span></code> are newly
exported helpers that retrieve information for a token.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AuthState$set_app()</span></code> and <code class="docutils literal notranslate"><span class="pre">AuthState$set_api_key()</span></code> now allow setting a value
of <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, i.e. these fields are easier to clear.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_byo_oauth2()</span></code> gains the ability to ingest a token from an object of class <code class="docutils literal notranslate"><span class="pre">httr::request</span></code>, i.e. to retrieve the <code class="docutils literal notranslate"><span class="pre">auth_token</span></code> component that holds an object of class <code class="docutils literal notranslate"><span class="pre">httr::Token2.0</span></code> that has been processed with <code class="docutils literal notranslate"><span class="pre">httr::config()</span></code>.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-0-2-0">
<h1>gargle 0.2.0<a class="headerlink" href="#gargle-0-2-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>All built-in API credentials have been rotated and are stored internally in a way that reinforces appropriate use. There is a new <a class="reference external" href="https://www.tidyverse.org/google_privacy_policy/">Privacy policy</a> as well as a <a class="reference external" href="https://www.tidyverse.org/google_privacy_policy/#policies-for-authors-of-packages-or-other-applications">policy for authors of packages or other applications</a>. This is related to a process to get the gargle project <a class="reference external" href="https://support.google.com/cloud/answer/7454865?hl=en">verified</a>, which affects the OAuth2 capabilities and the consent screen.</p></li>
<li><p>New vignette on “How to get your own API credentials”, to help other package authors or users obtain their own API key or OAuth client ID and secret.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credentials_byo_oauth2()</span></code> is a new credential function. It is included in the
default registry consulted by <code class="docutils literal notranslate"><span class="pre">token_fetch()</span></code> and is tried just before
<code class="docutils literal notranslate"><span class="pre">credentials_user_oauth2()</span></code>.</p></li>
</ul>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="gargle-0-1-3">
<h1>gargle 0.1.3<a class="headerlink" href="#gargle-0-1-3" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Initial CRAN release</p></li>
</ul>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./temporal/renv/library/R-4.1/aarch64-apple-darwin20/gargle"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Quan Nguyen<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>